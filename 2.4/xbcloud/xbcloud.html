



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation">
      
      
        <meta name="author" content="Percona LLC">
      
      
        <link rel="canonical" href="https://docs.percona.com/percona-xtrabackup-docs/2.4/2.4/xbcloud/xbcloud.html">
      
      
        <link rel="prev" href="../innobackupex/innobackupex_option_reference.html">
      
      
        <link rel="next" href="xbcloud_exbackoff.html">
      
      <link rel="icon" href="../_static/percona-favicon.ico">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.15">
    
    
      
        <title>The xbcloud Binary - Percona XtraBackup</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.113286f1.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Poppins";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://unicons.iconscout.com/release/v3.0.3/css/line.css">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
    
      <link rel="stylesheet" href="../css/percona.css">
    
      <link rel="stylesheet" href="../css/nocopy.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script id="__analytics">function __md_analytics(){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-343802-3","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");ga("send","event","feedback","click",t,e),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){ga("send","pageview",e.pathname)})});var e=document.createElement("script");e.async=!0,e.src="https://www.google-analytics.com/analytics.js",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>var consent;"undefined"==typeof __md_analytics||(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script>
  

    
    
    
              

              <script>
              (function (w, d, s, l, i) {
                  w[l] = w[l] || []; w[l].push({
                    'gtm.start': new Date().getTime(), 
                    event: 'gtm.js'
                  });
                  var f = d.getElementsByTagName(s)[0],
                  j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : '';
                  j.async = true; 
                  j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
                  f.parentNode.insertBefore(j, f);
                })(window, document, 'script', 'dataLayer', 'GTM-K48FGP2');
              </script>
              
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="percona-light" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#the-xbcloud-binary" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://docs.percona.com" title="Percona XtraBackup" class="md-header__button md-logo" aria-label="Percona XtraBackup" data-md-component="logo">
      
  <img src="../_static/percona-logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Percona XtraBackup
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              The xbcloud Binary
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="percona-light" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/percona/pxb-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    percona/pxb-docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://docs.percona.com" title="Percona XtraBackup" class="md-nav__button md-logo" aria-label="Percona XtraBackup" data-md-component="logo">
      
  <img src="../_static/percona-logo.svg" alt="logo">

    </a>
    Percona XtraBackup
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/percona/pxb-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    percona/pxb-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Introduction
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Introduction
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intro.html" class="md-nav__link">
        About Percona XtraBackup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how_xtrabackup_works.html" class="md-nav__link">
        How Percona XtraBackup Works
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../xtrabackup-version-numbers.html" class="md-nav__link">
        Understand version numbers
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installation.html" class="md-nav__link">
        Installing Percona XtraBackup 2.4
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installation/apt_repo.html" class="md-nav__link">
        Installing Percona XtraBackup on Debian and Ubuntu
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installation/yum_repo.html" class="md-nav__link">
        Installing Percona XtraBackup on Red Hat Enterprise Linux and CentOS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installation/binary-tarball.html" class="md-nav__link">
        Installing Percona XtraBackup from a Binary Tarball
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installation/compiling_xtrabackup.html" class="md-nav__link">
        Compiling and Installing from Source Code
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Run in Docker
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Run in Docker
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installation/docker.html" class="md-nav__link">
        Running Percona XtraBackup in a Docker container
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Prerequisites
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Prerequisites
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../using_xtrabackup/privileges.html" class="md-nav__link">
        Connection and Privileges Needed
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../using_xtrabackup/configuring.html" class="md-nav__link">
        Configuring xtrabackup
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Backup Scenarios
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Backup Scenarios
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../backup_scenarios/full_backup.html" class="md-nav__link">
        The Backup Cycle - Full Backups
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../backup_scenarios/incremental_backup.html" class="md-nav__link">
        Incremental Backup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../backup_scenarios/compressed_backup.html" class="md-nav__link">
        Compressed Backup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../backup_scenarios/encrypted_backup.html" class="md-nav__link">
        Encrypted Backup
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          User’s Manual
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          User’s Manual
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../manual.html" class="md-nav__link">
        Percona XtraBackup User Manual
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
      
      
      
        <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
          Advanced Features
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Advanced Features
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/throttling_backups.html" class="md-nav__link">
        Throttling Backups
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/lockless_bin-log.html" class="md-nav__link">
        Lockless binary log information
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/encrypted_innodb_tablespace_backups.html" class="md-nav__link">
        Encrypted InnoDB Tablespace Backups
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/locks.html" class="md-nav__link">
        `lock-ddl-per-table` Option Improvements
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
      
      
      
        <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
          Tutorials, Recipes, How-tos
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Tutorials, Recipes, How-tos
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how-tos.html" class="md-nav__link">
        How-tos and Recipes
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" checked>
      
      
      
        <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
          References
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          References
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_1" >
      
      
      
        <label class="md-nav__link" for="__nav_10_1" id="__nav_10_1_label" tabindex="0">
          Release notes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_10_1">
          <span class="md-nav__icon md-icon"></span>
          Release notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes.html" class="md-nav__link">
        Release notes index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/2.4/2.4.27.html" class="md-nav__link">
        Percona XtraBackup 2.4.27 (2022-12-06)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/2.4/2.4.26.html" class="md-nav__link">
        Percona XtraBackup 2.4.26
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/2.4/2.4.25.html" class="md-nav__link">
        Percona XtraBackup 2.4.25
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/2.4/2.4.24.html" class="md-nav__link">
        Percona XtraBackup 2.4.24
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/2.4/2.4.23.html" class="md-nav__link">
        Percona XtraBackup 2.4.23
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/2.4/2.4.22.html" class="md-nav__link">
        Percona XtraBackup 2.4.22
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/2.4/2.4.21.html" class="md-nav__link">
        Percona XtraBackup 2.4.21
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/2.4/2.4.20.html" class="md-nav__link">
        Percona XtraBackup 2.4.20
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/2.4/2.4.19.html" class="md-nav__link">
        Percona XtraBackup 2.4.19
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/2.4/2.4.18.html" class="md-nav__link">
        Percona XtraBackup 2.4.18
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/2.4/2.4.17.html" class="md-nav__link">
        Percona XtraBackup 2.4.17
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/2.4/2.4.16.html" class="md-nav__link">
        Percona XtraBackup 2.4.16
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/2.4/2.4.15.html" class="md-nav__link">
        Percona XtraBackup 2.4.15
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/2.4/2.4.14.html" class="md-nav__link">
        Percona XtraBackup 2.4.14
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/2.4/2.4.13.html" class="md-nav__link">
        Percona XtraBackup 2.4.13
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/2.4/2.4.12.html" class="md-nav__link">
        Percona XtraBackup 2.4.12
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/2.4/2.4.11.html" class="md-nav__link">
        Percona XtraBackup 2.4.11
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/2.4/2.4.10.html" class="md-nav__link">
        Percona XtraBackup 2.4.10
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/2.4/2.4.9.html" class="md-nav__link">
        Percona XtraBackup 2.4.9
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/2.4/2.4.8.html" class="md-nav__link">
        Percona XtraBackup 2.4.8
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/2.4/2.4.7-2.html" class="md-nav__link">
        Percona XtraBackup 2.4.7-2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/2.4/2.4.7.html" class="md-nav__link">
        Percona XtraBackup 2.4.7
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/2.4/2.4.6.html" class="md-nav__link">
        Percona XtraBackup 2.4.6
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/2.4/2.4.5.html" class="md-nav__link">
        Percona XtraBackup 2.4.5
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/2.4/2.4.4.html" class="md-nav__link">
        Percona XtraBackup 2.4.4
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/2.4/2.4.3.html" class="md-nav__link">
        Percona XtraBackup 2.4.3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/2.4/2.4.2.html" class="md-nav__link">
        Percona XtraBackup 2.4.2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/2.4/2.4.1.html" class="md-nav__link">
        Percona XtraBackup 2.4.1
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../xtrabackup_bin/xbk_option_reference.html" class="md-nav__link">
        The xtrabackup Option Reference
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../innobackupex/innobackupex_option_reference.html" class="md-nav__link">
        The innobackupex Option Reference
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          The xbcloud Binary
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="xbcloud.html" class="md-nav__link md-nav__link--active">
        The xbcloud Binary
      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#version-specific-information" class="md-nav__link">
    Version specific information
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supported-cloud-storage-types" class="md-nav__link">
    Supported Cloud Storage Types
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    Usage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-full-backup-with-swift" class="md-nav__link">
    Creating a full backup with Swift
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-full-backup-with-amazon-s3" class="md-nav__link">
    Creating a full backup with Amazon S3
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-full-backup-with-minio" class="md-nav__link">
    Creating a full backup with MinIO
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-full-backup-with-google-cloud-storage" class="md-nav__link">
    Creating a full backup with Google Cloud Storage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supplying-parameters" class="md-nav__link">
    Supplying parameters
  </a>
  
    <nav class="md-nav" aria-label="Supplying parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration-files" class="md-nav__link">
    Configuration files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-variables" class="md-nav__link">
    Environment variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shortcuts" class="md-nav__link">
    Shortcuts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#additional-parameters" class="md-nav__link">
    Additional parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restoring-with-swift" class="md-nav__link">
    Restoring with Swift
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restoring-with-amazon-s3" class="md-nav__link">
    Restoring with Amazon S3
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#incremental-backups" class="md-nav__link">
    Incremental backups
  </a>
  
    <nav class="md-nav" aria-label="Incremental backups">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#preparing-an-incremental-backup" class="md-nav__link">
    Preparing an incremental backup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#partial-download-of-the-cloud-backup" class="md-nav__link">
    Partial download of the cloud backup
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-line-options" class="md-nav__link">
    Command-line options
  </a>
  
    <nav class="md-nav" aria-label="Command-line options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-storageswiftamazon-s3google" class="md-nav__link">
    --storage=[swiftAmazon S3google]
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-auth-url" class="md-nav__link">
    --swift-auth-url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-url" class="md-nav__link">
    --swift-url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-storage-url" class="md-nav__link">
    --swift-storage-url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-user" class="md-nav__link">
    --swift-user
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-key" class="md-nav__link">
    --swift-key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-container" class="md-nav__link">
    --swift-container
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-paralleln" class="md-nav__link">
    --parallel=N
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-cacert" class="md-nav__link">
    --cacert
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-insecure" class="md-nav__link">
    --insecure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#swift-authentication-options" class="md-nav__link">
    Swift authentication options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-auth-version" class="md-nav__link">
    --swift-auth-version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-tenant" class="md-nav__link">
    --swift-tenant
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-tenant-id" class="md-nav__link">
    --swift-tenant-id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-region" class="md-nav__link">
    --swift-region
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-password" class="md-nav__link">
    --swift-password
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-user-id" class="md-nav__link">
    --swift-user-id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-project" class="md-nav__link">
    --swift-project
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-project-id" class="md-nav__link">
    --swift-project-id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-domain" class="md-nav__link">
    --swift-domain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-domain-id" class="md-nav__link">
    --swift-domain-id
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="xbcloud_exbackoff.html" class="md-nav__link">
        Exponential Backoff
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="xbcloud_azure.html" class="md-nav__link">
        Using the xbcloud binary with Microsoft Azure Cloud Storage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../xbcrypt/xbcrypt.html" class="md-nav__link">
        The xbcrypt binary
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../xbstream/xbstream.html" class="md-nav__link">
        The xbstream binary
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../known_issues.html" class="md-nav__link">
        Known issues and limitations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../faq.html" class="md-nav__link">
        Frequently Asked Questions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../glossary.html" class="md-nav__link">
        Glossary
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../xtrabackup-files.html" class="md-nav__link">
        Index of files created by Percona XtraBackup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trademark-policy.html" class="md-nav__link">
        Trademark policy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../copyright-and-licensing-information.html" class="md-nav__link">
        Copyright and licensing information
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../version-check.html" class="md-nav__link">
        Version Checking
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
    <br/>
   <label class="md-nav__title" for="__drawer">
    <a href="https://learn.percona.com/download-percona-xtrabackup-2-4-manual" onclick="_gaq.push(['b._trackEvent', 'Percona XtraBackup', 'Download', 'Download Manual Percona XtraBackup']);" class="md-nav__link md-nav__link--active">
      Download PDF
    </a>
  </label> 
  </ul>
</nav>

                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#version-specific-information" class="md-nav__link">
    Version specific information
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supported-cloud-storage-types" class="md-nav__link">
    Supported Cloud Storage Types
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    Usage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-full-backup-with-swift" class="md-nav__link">
    Creating a full backup with Swift
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-full-backup-with-amazon-s3" class="md-nav__link">
    Creating a full backup with Amazon S3
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-full-backup-with-minio" class="md-nav__link">
    Creating a full backup with MinIO
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-full-backup-with-google-cloud-storage" class="md-nav__link">
    Creating a full backup with Google Cloud Storage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supplying-parameters" class="md-nav__link">
    Supplying parameters
  </a>
  
    <nav class="md-nav" aria-label="Supplying parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration-files" class="md-nav__link">
    Configuration files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-variables" class="md-nav__link">
    Environment variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shortcuts" class="md-nav__link">
    Shortcuts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#additional-parameters" class="md-nav__link">
    Additional parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restoring-with-swift" class="md-nav__link">
    Restoring with Swift
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restoring-with-amazon-s3" class="md-nav__link">
    Restoring with Amazon S3
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#incremental-backups" class="md-nav__link">
    Incremental backups
  </a>
  
    <nav class="md-nav" aria-label="Incremental backups">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#preparing-an-incremental-backup" class="md-nav__link">
    Preparing an incremental backup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#partial-download-of-the-cloud-backup" class="md-nav__link">
    Partial download of the cloud backup
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-line-options" class="md-nav__link">
    Command-line options
  </a>
  
    <nav class="md-nav" aria-label="Command-line options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-storageswiftamazon-s3google" class="md-nav__link">
    --storage=[swiftAmazon S3google]
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-auth-url" class="md-nav__link">
    --swift-auth-url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-url" class="md-nav__link">
    --swift-url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-storage-url" class="md-nav__link">
    --swift-storage-url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-user" class="md-nav__link">
    --swift-user
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-key" class="md-nav__link">
    --swift-key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-container" class="md-nav__link">
    --swift-container
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-paralleln" class="md-nav__link">
    --parallel=N
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-cacert" class="md-nav__link">
    --cacert
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-insecure" class="md-nav__link">
    --insecure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#swift-authentication-options" class="md-nav__link">
    Swift authentication options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-auth-version" class="md-nav__link">
    --swift-auth-version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-tenant" class="md-nav__link">
    --swift-tenant
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-tenant-id" class="md-nav__link">
    --swift-tenant-id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-region" class="md-nav__link">
    --swift-region
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-password" class="md-nav__link">
    --swift-password
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-user-id" class="md-nav__link">
    --swift-user-id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-project" class="md-nav__link">
    --swift-project
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-project-id" class="md-nav__link">
    --swift-project-id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-domain" class="md-nav__link">
    --swift-domain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-swift-domain-id" class="md-nav__link">
    --swift-domain-id
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                

                <!-- Edit and view button -->
                
                  
                  
                  <a
                    href="https://github.com/percona/pxb-docs/edit/2.4/docs/xbcloud/xbcloud.md"
                    title=""
                    class="md-content__button md-icon"
                  >
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
                  </a>
                  <a
                    href="https://github.com/percona/pxb-docs/edit/2.4/docs/xbcloud/xbcloud.md"
                    title="View source of this page"
                    class="md-content__button md-icon"
                  >
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg>
                  </a>
                

                <!--
                  Hack: check whether the content contains a h1 headline. If it
                  doesn't, the page title (or respectively site name) is used
                  as the main headline.
                -->
                

                <!-- Markdown content -->
                <h1 id="the-xbcloud-binary">The xbcloud Binary<a class="headerlink" href="#the-xbcloud-binary" title="Permanent link">&para;</a></h1>
<p>The purpose of <em>xbcloud</em> is to download and upload full or part of xbstream
archive from/to the cloud. <em>xbcloud</em> will not overwrite the backup with the same
name. <em>xbcloud</em> accepts input via a pipe from xbstream so that it can be
invoked as a pipeline with <em>xtrabackup</em> to stream directly to the cloud without
needing a local storage.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In a Bash shell, the <code>$?</code> parameter returns the exit code from the last binary. If you use pipes the <code>${PIPESTATUS[x]}</code> array parameter returns the exit codes for each binary in the pipe string.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>xtrabackup<span class="w"> </span>--backup<span class="w"> </span>--stream<span class="o">=</span>xbstream<span class="w"> </span>--target-dir<span class="o">=</span>/storage/backups/<span class="w"> </span><span class="p">|</span><span class="w"> </span>xbcloud<span class="w"> </span>put<span class="w"> </span><span class="o">[</span>options<span class="o">]</span><span class="w"> </span>full_backup

&gt;<span class="w"> </span><span class="nb">true</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nb">false</span>
&gt;<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$?</span>
&gt;<span class="w"> </span><span class="m">1</span>

<span class="c1"># with PIPESTATUS</span>
&gt;<span class="w"> </span><span class="nb">true</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nb">false</span>
&gt;<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">PIPESTATUS</span><span class="p">[0]</span><span class="si">}</span><span class="w"> </span><span class="si">${</span><span class="nv">PIPESTATUS</span><span class="p">[1]</span><span class="si">}</span>
&gt;<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span>
</code></pre></div>
</div>
<p>The <em>xbcloud</em> binary stores each chunk as a separate object with a name
<code>backup_name/database/table.ibd.NNNNNNNNNNNNNNNNNNNN</code>, where <code>NNN...</code> is a
0-padded serial number of chunk within a file. Size of chunk produced by
<em>xtrabackup</em> and xbstream changed to 10MB.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Use <code>--read-buffer-size</code> to adjust the chunk size.</p>
<p>If you use encryption, specify both the <code>--read-buffer-size</code> and <code>--encrypt-chunk-size</code> options to adjust the chunk size.</p>
</div>
<p><em>xbcloud</em> has three essential operations: <em>put</em>, <em>get</em>, and <em>delete</em>. With these
operations, backups are created, stored, retrieved, restored, and
deleted. <em>xbcloud</em> operations clearly map to similar operations within the AWS
S3 API.</p>
<h2 id="version-specific-information">Version specific information<a class="headerlink" href="#version-specific-information" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>2.4.25 - Added the support for <a href="xbcloud_azure.html#xbcloud-azure">Microsoft Azure Cloud Storage</a></p>
</li>
<li>
<p>2.4.21 - Added s3-storage-class and google-storage-class</p>
</li>
<li>
<p>2.4.14 - Added the support of <em>Amazon S3</em>, <em>MinIO</em> and <em>Google Cloud Storage</em> storage types.</p>
</li>
<li>
<p>2.3.1-beta1 - Implemented ability to store <em>xbcloud</em> parameters in a
.cnf file</p>
</li>
<li>
<p>2.3.1-beta1 - Implemented support different <a href="#swift-authentication-options">authentication options</a> for Swift</p>
</li>
<li>
<p>2.3.1-beta1 - Implemented support for partial download of the cloud backups</p>
</li>
<li>
<p>2.3.1-beta1 - <code>xbcloud --swift-url</code> option has been renamed to
<code>xbcloud --swift-auth-url</code></p>
</li>
<li>
<p>2.3.0-alpha1 - Initial implementation</p>
</li>
</ul>
<h2 id="supported-cloud-storage-types">Supported Cloud Storage Types<a class="headerlink" href="#supported-cloud-storage-types" title="Permanent link">&para;</a></h2>
<p>Swift was the only option for storing backups in cloud storage until <em>Percona XtraBackup 2.4.14</em>.</p>
<p>The xbcloud binary supports <a href="#creating-a-full-backup-with-amazon-s3">Amazon S3</a>, <a href="xbcloud_azure.html#xbcloud-azure">Azure</a>, <a href="#creating-a-full-backup-with-minio">MinIO</a> and <a href="#creating-a-full-backup-with-google-cloud-storage">Google Cloud Storage</a>. Amazon S3-compatible cloud storage types, such as Wasabi and Digital Ocean Spaces, are also supported. The xbcloud binary should work with other S3-compatible storage options.</p>
<div class="admonition admonition">
<p class="admonition-title">See also</p>
<p><a href="https://wiki.openstack.org/wiki/Swift">OpenStack Object Storage (&ldquo;Swift&rdquo;)</a></p>
<p><a href="https://aws.amazon.com/s3/">Amazon Simple Storage Service</a></p>
<p><a href="https://azure.microsoft.com/en-gb/product-categories/storage/">Azure Cloud Storage</a></p>
<p><a href="https://min.io/">MinIO</a></p>
<p><a href="https://cloud.google.com/storage/">Google Cloud Storage</a></p>
<p><a href="https://wasabi.com/">Wasabi</a></p>
<p><a href="https://www.digitalocean.com/products/spaces/">Digital Ocean Spaces</a></p>
</div>
<h2 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>xtrabackup<span class="w"> </span>--backup<span class="w"> </span>--stream<span class="o">=</span>xbstream<span class="w"> </span>--target-dir<span class="o">=</span>/tmp<span class="w"> </span><span class="p">|</span><span class="w"> </span>xbcloud<span class="w"> </span><span class="se">\</span>
put<span class="w"> </span><span class="o">[</span>options<span class="o">]</span><span class="w"> </span>&lt;name&gt;
</code></pre></div>
<h2 id="creating-a-full-backup-with-swift">Creating a full backup with Swift<a class="headerlink" href="#creating-a-full-backup-with-swift" title="Permanent link">&para;</a></h2>
<p>The following example shows how to make a full backup and upload it to Swift.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>xtrabackup<span class="w"> </span>--backup<span class="w"> </span>--stream<span class="o">=</span>xbstream<span class="w"> </span>--extra-lsndir<span class="o">=</span>/tmp<span class="w"> </span>--target-dir<span class="o">=</span>/tmp<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
xbcloud<span class="w"> </span>put<span class="w"> </span>--storage<span class="o">=</span>swift<span class="w"> </span><span class="se">\</span>
--swift-container<span class="o">=</span><span class="nb">test</span><span class="w"> </span><span class="se">\</span>
--swift-user<span class="o">=</span>test:tester<span class="w"> </span><span class="se">\</span>
--swift-auth-url<span class="o">=</span>http://192.168.8.80:8080/<span class="w"> </span><span class="se">\</span>
--swift-key<span class="o">=</span>testing<span class="w"> </span><span class="se">\</span>
--parallel<span class="o">=</span><span class="m">10</span><span class="w"> </span><span class="se">\</span>
full_backup
</code></pre></div>
<h2 id="creating-a-full-backup-with-amazon-s3">Creating a full backup with <em>Amazon S3</em><a class="headerlink" href="#creating-a-full-backup-with-amazon-s3" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>xtrabackup<span class="w"> </span>--backup<span class="w"> </span>--stream<span class="o">=</span>xbstream<span class="w"> </span>--extra-lsndir<span class="o">=</span>/tmp<span class="w"> </span>--target-dir<span class="o">=</span>/tmp<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
xbcloud<span class="w"> </span>put<span class="w"> </span>--storage<span class="o">=</span>s3<span class="w"> </span><span class="se">\</span>
--s3-endpoint<span class="o">=</span><span class="s1">&#39;s3.amazonaws.com&#39;</span><span class="w"> </span><span class="se">\</span>
--s3-access-key<span class="o">=</span><span class="s1">&#39;YOUR-ACCESSKEYID&#39;</span><span class="w"> </span><span class="se">\</span>
--s3-secret-key<span class="o">=</span><span class="s1">&#39;YOUR-SECRETACCESSKEY&#39;</span><span class="w"> </span><span class="se">\</span>
--s3-bucket<span class="o">=</span><span class="s1">&#39;mysql_backups&#39;</span>
--parallel<span class="o">=</span><span class="m">10</span><span class="w"> </span><span class="se">\</span>
<span class="k">$(</span>date<span class="w"> </span>-I<span class="k">)</span>-full_backup
</code></pre></div>
<p>The following options are available when using <em>Amazon S3</em>:</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td>&ndash;s3-access-key</td>
<td>Use to supply the AWS access key ID</td>
</tr>
<tr>
<td>&ndash;s3-secret-key</td>
<td>Use to supply the AWS secret access key</td>
</tr>
<tr>
<td>&ndash;s3-bucket</td>
<td>Use supply the AWS bucket name</td>
</tr>
<tr>
<td>&ndash;s3-region</td>
<td>Use to specify the AWS region. The default value is <strong>us-east-1</strong></td>
</tr>
<tr>
<td>&ndash;s3-api-version = &#60;AUTO&vert;2&vert;4&#62;</td>
<td>Select the signing algorithm. The default value is AUTO. In this case, <em>xbcloud</em> will probe.</td>
</tr>
<tr>
<td>&ndash;s3-bucket-lookup = &#60;AUTO&vert;PATH&vert;DNS&#62;</td>
<td>Specify whether to use <strong>bucket.endpoint.com</strong> or <em>endpoint.com/bucket*</em> style requests. The default value is AUTO. In this case, <em>xbcloud</em> will probe.</td>
</tr>
<tr>
<td>&ndash;s3-storage-class=&#60;name&#62;</td>
<td>Specify the <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/storage-class-intro.html">S3 storage class</a>. The name options are the following:<br /> STANDARD<br /> STANDARD_IA<br /> GLACIER<br /><br /> NOTE: If you use the GLACIER storage class, the object must be <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/restoring-objects.html">restored to S3</a> before restoring the backup.<br /> Also, supports using custom S3 implementations such as MinIO or CephRadosGW.</td>
</tr>
</tbody>
</table>
<h2 id="creating-a-full-backup-with-minio">Creating a full backup with MinIO<a class="headerlink" href="#creating-a-full-backup-with-minio" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>xtrabackup<span class="w"> </span>--backup<span class="w"> </span>--stream<span class="o">=</span>xbstream<span class="w"> </span>--extra-lsndir<span class="o">=</span>/tmp<span class="w"> </span>--target-dir<span class="o">=</span>/tmp<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
xbcloud<span class="w"> </span>put<span class="w"> </span>--storage<span class="o">=</span>s3<span class="w"> </span><span class="se">\</span>
--s3-endpoint<span class="o">=</span><span class="s1">&#39;play.minio.io:9000&#39;</span><span class="w"> </span><span class="se">\</span>
--s3-access-key<span class="o">=</span><span class="s1">&#39;YOUR-ACCESSKEYID&#39;</span><span class="w"> </span><span class="se">\</span>
--s3-secret-key<span class="o">=</span><span class="s1">&#39;YOUR-SECRETACCESSKEY&#39;</span><span class="w"> </span><span class="se">\</span>
--s3-bucket<span class="o">=</span><span class="s1">&#39;mysql_backups&#39;</span>
--parallel<span class="o">=</span><span class="m">10</span><span class="w"> </span><span class="se">\</span>
<span class="k">$(</span>date<span class="w"> </span>-I<span class="k">)</span>-full_backup
</code></pre></div>
<h2 id="creating-a-full-backup-with-google-cloud-storage">Creating a full backup with Google Cloud Storage<a class="headerlink" href="#creating-a-full-backup-with-google-cloud-storage" title="Permanent link">&para;</a></h2>
<p>The support for Google Cloud Storage is implemented using the interoperability
mode. This mode was especially designed to interact with cloud services
compatible with <em>Amazon S3</em>.</p>
<div class="admonition admonition">
<p class="admonition-title">See also</p>
<p>Cloud Storage Interoperability
  https://cloud.google.com/storage/docs/interoperability</p>
</div>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>xtrabackup<span class="w"> </span>--backup<span class="w"> </span>--stream<span class="o">=</span>xbstream<span class="w"> </span>--extra-lsndir<span class="o">=</span>/tmp<span class="w"> </span>--target-dir<span class="o">=</span>/tmp<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
xbcloud<span class="w"> </span>put<span class="w"> </span>--storage<span class="o">=</span>google<span class="w"> </span><span class="se">\</span>
--google-endpoint<span class="o">=</span><span class="sb">`</span>storage.googleapis.com<span class="sb">`</span><span class="w"> </span><span class="se">\</span>
--google-access-key<span class="o">=</span><span class="s1">&#39;YOUR-ACCESSKEYID&#39;</span><span class="w"> </span><span class="se">\</span>
--google-secret-key<span class="o">=</span><span class="s1">&#39;YOUR-SECRETACCESSKEY&#39;</span><span class="w"> </span><span class="se">\</span>
--google-bucket<span class="o">=</span><span class="s1">&#39;mysql_backups&#39;</span>
--parallel<span class="o">=</span><span class="m">10</span><span class="w"> </span><span class="se">\</span>
<span class="k">$(</span>date<span class="w"> </span>-I<span class="k">)</span>-full_backup
</code></pre></div>
<p>The following options are available when using Google Cloud Storage:</p>
<ul>
<li>
<p>&ndash;google-access-key = &#60;ACCESS KEY ID&#62;</p>
</li>
<li>
<p>&ndash;google-secret-key = &#60;SECRET ACCESS KEY&#62;</p>
</li>
<li>
<p>&ndash;google-bucket = &#60;BUCKET NAME&#62;</p>
</li>
<li>
<p>&ndash;google-storage-class=name</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Google storage class name options are the following: </p>
<ul>
<li>
<p>STANDARD</p>
</li>
<li>
<p>NEARLINE</p>
</li>
<li>
<p>COLDLINE</p>
</li>
<li>
<p>ARCHIVE </p>
</li>
</ul>
<p><strong>See also</strong>: <a href="https://cloud.google.com/storage/docs/storage-classes">Google storage classes</a></p>
</div>
<h2 id="supplying-parameters">Supplying parameters<a class="headerlink" href="#supplying-parameters" title="Permanent link">&para;</a></h2>
<p>Each storage type has mandatory parameters that you can supply on the command
line, in a configuration file, and via environment variables.</p>
<h3 id="configuration-files">Configuration files<a class="headerlink" href="#configuration-files" title="Permanent link">&para;</a></h3>
<p>The parameters the values of which do not change frequently can be stored in
<code>my.cnf</code> or in a custom configuration file. The following example is a
template of configuration options under the <code>[xbcloud]</code> group:</p>
<div class="highlight"><pre><span></span><code>[xbcloud]
storage=s3
s3-endpoint=http://localhost:9000/
s3-access-key=minio
s3-secret-key=minio123
s3-bucket=backupsx
s3-bucket-lookup=path
s3-api-version=4
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you explicitly use a parameter on the command line and in a configuration file, <em>xbcloud</em> uses the the value provided on the command line.</p>
</div>
<h3 id="environment-variables">Environment variables<a class="headerlink" href="#environment-variables" title="Permanent link">&para;</a></h3>
<p>The following environment variables are recognized. <em>xbcloud</em> maps them
automatically to corresponding parameters applicable to the selected storage.</p>
<ul>
<li>
<p>AWS_ACCESS_KEY_ID (or ACCESS_KEY_ID)</p>
</li>
<li>
<p>AWS_SECRET_ACCESS_KEY (or SECRET_ACCESS_KEY)</p>
</li>
<li>
<p>AWS_DEFAULT_REGION (or DEFAULT_REGION)</p>
</li>
<li>
<p>AWS_ENDPOINT (or ENDPOINT)</p>
</li>
<li>
<p>AWS_CA_BUNDLE</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you explicitly use a parameter on the command line, in a configuration file, and the corresponding environment variable contains a value, <em>xbcloud</em> uses the the value provided on the command line or in the configuration file.</p>
</div>
<p>OpenStack environment variables are also recognized and mapped automatically to
corresponding <strong>swift</strong> parameters (<code>--storage=swift</code>).</p>
<ul>
<li>OS_AUTH_URL</li>
<li>OS_TENANT_NAME</li>
<li>OS_TENANT_ID</li>
<li>OS_USERNAME</li>
<li>OS_PASSWORD</li>
<li>OS_USER_DOMAIN</li>
<li>OS_USER_DOMAIN_ID</li>
<li>OS_PROJECT_DOMAIN</li>
<li>OS_PROJECT_DOMAIN_ID</li>
<li>OS_REGION_NAME</li>
<li>OS_STORAGE_URL</li>
<li>OS_CACERT</li>
</ul>
<h3 id="shortcuts">Shortcuts<a class="headerlink" href="#shortcuts" title="Permanent link">&para;</a></h3>
<p>For all operations (put, get, and delete), you can use a shortcut to specify the
storage type, bucket name, and backup name as one parameter instead of using
three distinct parameters (&ndash;storage, &ndash;s3-bucket, and backup name per se).</p>
<p><strong>Using a shortcut syntax to provide a storage type, bucket, and backup name</strong></p>
<p>Use the following format: <code>storage-type://bucket-name/backup-name</code></p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>xbcloud<span class="w"> </span>get<span class="w"> </span>s3://operator-testing/bak22<span class="w"> </span>...
</code></pre></div>
<p>In this example, <strong>s3</strong> refers to a storage type, <strong>operator-testing</strong> is a
bucket name, and <strong>bak22</strong> is the backup name. This shortcut expands as follows:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>xbcloud<span class="w"> </span>get<span class="w"> </span>--storage<span class="o">=</span>s3<span class="w"> </span>--s3-bucket<span class="o">=</span>operator-testing<span class="w"> </span>bak22<span class="w"> </span>...
</code></pre></div>
<p>You can supply the mandatory parameters not only on the command line. You may use
configuration files and environment variables.</p>
<h3 id="additional-parameters">Additional parameters<a class="headerlink" href="#additional-parameters" title="Permanent link">&para;</a></h3>
<p><em>xbcloud</em> accepts additional parameters that you can use with any storage
type. The <code>--md5</code> parameter computes the MD5 hash value of the backup
chunks. The result is stored in files that following the <code>backup_name.md5</code>
pattern.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>xtrabackup<span class="w"> </span>--backup<span class="w"> </span>--stream<span class="o">=</span>xbstream<span class="w"> </span><span class="se">\</span>
--parallel<span class="o">=</span><span class="m">8</span><span class="w"> </span><span class="m">2</span>&gt;backup.log<span class="w"> </span><span class="p">|</span><span class="w"> </span>xbcloud<span class="w"> </span>put<span class="w"> </span>s3://operator-testing/bak22<span class="w"> </span><span class="se">\</span>
--parallel<span class="o">=</span><span class="m">8</span><span class="w"> </span>--md5<span class="w"> </span><span class="m">2</span>&gt;upload.log
</code></pre></div>
<p>You may use the <code>--header</code> parameter to pass an additional HTTP
header with the server side encryption while specifying a customer key.</p>
<p><strong>Example of using &ndash;header for AES256 encryption</strong></p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>xtrabackup<span class="w"> </span>--backup<span class="w"> </span>--stream<span class="o">=</span>xbstream<span class="w"> </span>--parallel<span class="o">=</span><span class="m">4</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
xbcloud<span class="w"> </span>put<span class="w"> </span>s3://operator-testing/bak-enc/<span class="w"> </span><span class="se">\</span>
--header<span class="o">=</span><span class="s2">&quot;X-Amz-Server-Side-Encryption-Customer-Algorithm: AES256&quot;</span><span class="w"> </span><span class="se">\</span>
--header<span class="o">=</span><span class="s2">&quot;X-Amz-Server-Side-Encryption-Customer-Key: CuStoMerKey=&quot;</span><span class="w"> </span><span class="se">\</span>
--header<span class="o">=</span><span class="s2">&quot;X-Amz-Server-Side-Encryption-Customer-Key-MD5: CuStoMerKeyMd5==&quot;</span><span class="w"> </span><span class="se">\</span>
--parallel<span class="o">=</span><span class="m">8</span>
</code></pre></div>
<p>The <code>--header</code> parameter is also useful to set the access control list (ACL)
permissions: <code>--header="x-amz-acl: bucket-owner-full-control</code></p>
<h2 id="restoring-with-swift">Restoring with Swift<a class="headerlink" href="#restoring-with-swift" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>xbcloud get [options] &lt;name&gt; [&lt;list-of-files&gt;] | xbstream -x
</code></pre></div>
<p>The following example shows how to fetch and restore the backup from Swift:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>xbcloud<span class="w"> </span>get<span class="w"> </span>--storage<span class="o">=</span>swift<span class="w"> </span><span class="se">\</span>
--swift-container<span class="o">=</span><span class="nb">test</span><span class="w"> </span><span class="se">\</span>
--swift-user<span class="o">=</span>test:tester<span class="w"> </span><span class="se">\</span>
--swift-auth-url<span class="o">=</span>http://192.168.8.80:8080/<span class="w"> </span><span class="se">\</span>
--swift-key<span class="o">=</span>testing<span class="w"> </span><span class="se">\</span>
full_backup<span class="w"> </span><span class="p">|</span><span class="w"> </span>xbstream<span class="w"> </span>-xv<span class="w"> </span>-C<span class="w"> </span>/tmp/downloaded_full

$<span class="w"> </span>xtrabackup<span class="w"> </span>--prepare<span class="w"> </span>--target-dir<span class="o">=</span>/tmp/downloaded_full
$<span class="w"> </span>xtrabackup<span class="w"> </span>--copy-back<span class="w"> </span>--target-dir<span class="o">=</span>/tmp/downloaded_full
</code></pre></div>
<h2 id="restoring-with-amazon-s3">Restoring with <em>Amazon S3</em><a class="headerlink" href="#restoring-with-amazon-s3" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>xbcloud<span class="w"> </span>get<span class="w"> </span>s3://operator-testing/bak22<span class="w"> </span><span class="se">\</span>
--s3-endpoint<span class="o">=</span>https://storage.googleapis.com/<span class="w"> </span><span class="se">\</span>
--parallel<span class="o">=</span><span class="m">10</span><span class="w"> </span><span class="m">2</span>&gt;download.log<span class="w"> </span><span class="p">|</span><span class="w"> </span>xbstream<span class="w"> </span>-x<span class="w"> </span>-C<span class="w"> </span>restore<span class="w"> </span>--parallel<span class="o">=</span><span class="m">8</span>
</code></pre></div>
<h2 id="incremental-backups">Incremental backups<a class="headerlink" href="#incremental-backups" title="Permanent link">&para;</a></h2>
<p>First, make the full backup which is the base for an incremental backup:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>xtrabackup<span class="w"> </span>--backup<span class="w"> </span>--stream<span class="o">=</span>xbstream<span class="w"> </span>--extra-lsndir<span class="o">=</span>/storage/backups/<span class="w"> </span><span class="se">\</span>
--target-dir<span class="o">=</span>/storage/backups/<span class="w"> </span><span class="p">|</span><span class="w"> </span>xbcloud<span class="w"> </span>put<span class="w"> </span><span class="se">\</span>
--storage<span class="o">=</span>swift<span class="w"> </span>--swift-container<span class="o">=</span>test_backup<span class="w"> </span><span class="se">\</span>
--swift-auth-version<span class="o">=</span><span class="m">2</span>.0<span class="w"> </span>--swift-user<span class="o">=</span>admin<span class="w"> </span><span class="se">\</span>
--swift-tenant<span class="o">=</span>admin<span class="w"> </span>--swift-password<span class="o">=</span>xoxoxoxo<span class="w"> </span><span class="se">\</span>
--swift-auth-url<span class="o">=</span>http://127.0.0.1:35357/<span class="w"> </span>--parallel<span class="o">=</span><span class="m">10</span><span class="w"> </span><span class="se">\</span>
full_backup
</code></pre></div>
<p>Then make the incremental backup:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>xtrabackup<span class="w"> </span>--backup<span class="w"> </span>--incremental-basedir<span class="o">=</span>/storage/backups<span class="w"> </span><span class="se">\</span>
--stream<span class="o">=</span>xbstream<span class="w"> </span>--target-dir<span class="o">=</span>/storage/inc_backup<span class="w"> </span><span class="p">|</span><span class="w"> </span>xbcloud<span class="w"> </span>put<span class="w"> </span><span class="se">\</span>
--storage<span class="o">=</span>swift<span class="w"> </span>--swift-container<span class="o">=</span>test_backup<span class="w"> </span><span class="se">\</span>
--swift-auth-version<span class="o">=</span><span class="m">2</span>.0<span class="w"> </span>--swift-user<span class="o">=</span>admin<span class="w"> </span><span class="se">\</span>
--swift-tenant<span class="o">=</span>admin<span class="w"> </span>--swift-password<span class="o">=</span>xoxoxoxo<span class="w"> </span><span class="se">\</span>
--swift-auth-url<span class="o">=</span>http://127.0.0.1:35357/<span class="w"> </span>--parallel<span class="o">=</span><span class="m">10</span><span class="w"> </span><span class="se">\</span>
inc_backup
</code></pre></div>
<h3 id="preparing-an-incremental-backup">Preparing an incremental backup<a class="headerlink" href="#preparing-an-incremental-backup" title="Permanent link">&para;</a></h3>
<p>To prepare a backup, download the full backup:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>xbcloud<span class="w"> </span>get<span class="w"> </span>--swift-container<span class="o">=</span>test_backup<span class="w"> </span><span class="se">\</span>
--swift-auth-version<span class="o">=</span><span class="m">2</span>.0<span class="w"> </span>--swift-user<span class="o">=</span>admin<span class="w"> </span><span class="se">\</span>
--swift-tenant<span class="o">=</span>admin<span class="w"> </span>--swift-password<span class="o">=</span>xoxoxoxo<span class="w"> </span><span class="se">\</span>
--swift-auth-url<span class="o">=</span>http://127.0.0.1:35357/<span class="w"> </span>--parallel<span class="o">=</span><span class="m">10</span><span class="w"> </span><span class="se">\</span>
full_backup<span class="w"> </span><span class="p">|</span><span class="w"> </span>xbstream<span class="w"> </span>-xv<span class="w"> </span>-C<span class="w"> </span>/storage/downloaded_full
</code></pre></div>
<p>Prepare the downloaded full backup:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>xtrabackup<span class="w"> </span>--prepare<span class="w"> </span>--apply-log-only<span class="w"> </span>--target-dir<span class="o">=</span>/storage/downloaded_full
</code></pre></div>
<p>After the full backup has been prepared, download the incremental backup:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>xbcloud<span class="w"> </span>get<span class="w"> </span>--swift-container<span class="o">=</span>test_backup<span class="w"> </span><span class="se">\</span>
--swift-auth-version<span class="o">=</span><span class="m">2</span>.0<span class="w"> </span>--swift-user<span class="o">=</span>admin<span class="w"> </span><span class="se">\</span>
--swift-tenant<span class="o">=</span>admin<span class="w"> </span>--swift-password<span class="o">=</span>xoxoxoxo<span class="w"> </span><span class="se">\</span>
--swift-auth-url<span class="o">=</span>http://127.0.0.1:35357/<span class="w"> </span>--parallel<span class="o">=</span><span class="m">10</span><span class="w"> </span><span class="se">\</span>
inc_backup<span class="w"> </span><span class="p">|</span><span class="w"> </span>xbstream<span class="w"> </span>-xv<span class="w"> </span>-C<span class="w"> </span>/storage/downloaded_inc
</code></pre></div>
<p>Prepare the incremental backup:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>xtrabackup<span class="w"> </span>--prepare<span class="w"> </span>--apply-log-only<span class="w"> </span><span class="se">\</span>
--target-dir<span class="o">=</span>/storage/downloaded_full<span class="w"> </span><span class="se">\</span>
--incremental-dir<span class="o">=</span>/storage/downloaded_inc

$<span class="w"> </span>xtrabackup<span class="w"> </span>--prepare<span class="w"> </span>--target-dir<span class="o">=</span>/storage/downloaded_full
</code></pre></div>
<h3 id="partial-download-of-the-cloud-backup">Partial download of the cloud backup<a class="headerlink" href="#partial-download-of-the-cloud-backup" title="Permanent link">&para;</a></h3>
<p>If you don&rsquo;t want to download the entire backup to restore a database
you can restore only specific tables:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>xbcloud<span class="w"> </span>get<span class="w"> </span>--swift-container<span class="o">=</span>test_backup
--swift-auth-version<span class="o">=</span><span class="m">2</span>.0<span class="w"> </span>--swift-user<span class="o">=</span>admin<span class="w"> </span><span class="se">\</span>
--swift-tenant<span class="o">=</span>admin<span class="w"> </span>--swift-password<span class="o">=</span>xoxoxoxo<span class="w"> </span><span class="se">\</span>
--swift-auth-url<span class="o">=</span>http://127.0.0.1:35357/<span class="w"> </span>full_backup<span class="w"> </span><span class="se">\</span>
ibdata1<span class="w"> </span>sakila/payment.ibd<span class="w"> </span><span class="se">\</span>
&gt;<span class="w"> </span>/storage/partial/partial.xbs

$<span class="w"> </span>xbstream<span class="w"> </span>-xv<span class="w"> </span>-C<span class="w"> </span>/storage/partial<span class="w"> </span>&lt;<span class="w"> </span>/storage/partial/partial.xbs
</code></pre></div>
<p>This command downloads the <code>ibdata1</code> table and the <code>sakila/payment.ibd</code> table from a full backup.</p>
<h2 id="command-line-options">Command-line options<a class="headerlink" href="#command-line-options" title="Permanent link">&para;</a></h2>
<p><em>xbcloud</em> has the following command line options:</p>
<h3 id="-storageswiftamazon-s3google">&ndash;storage=[swift<em>Amazon S3</em>google]<a class="headerlink" href="#-storageswiftamazon-s3google" title="Permanent link">&para;</a></h3>
<p>Cloud storage option. <em>xbcloud</em> supports Swift, MinIO, and AWS S3.
The default value is <code>swift</code>.</p>
<h3 id="-swift-auth-url">&ndash;swift-auth-url<a class="headerlink" href="#-swift-auth-url" title="Permanent link">&para;</a></h3>
<p>URL of Swift cluster.</p>
<h3 id="-swift-url">&ndash;swift-url<a class="headerlink" href="#-swift-url" title="Permanent link">&para;</a></h3>
<p>Renamed to xbcloud –swift-auth-url</p>
<h3 id="-swift-storage-url">&ndash;swift-storage-url<a class="headerlink" href="#-swift-storage-url" title="Permanent link">&para;</a></h3>
<p>xbcloud attempts to get object-store URL for a specified region (if any specified)
from the keystone response. One can override that URL by passing
&ndash;swift-storage-url=URL argument.</p>
<h3 id="-swift-user">&ndash;swift-user<a class="headerlink" href="#-swift-user" title="Permanent link">&para;</a></h3>
<p>Swift username (X-Auth-User, specific to Swift)</p>
<h3 id="-swift-key">&ndash;swift-key<a class="headerlink" href="#-swift-key" title="Permanent link">&para;</a></h3>
<p>Swift key/password (X-Auth-Key, specific to Swift)</p>
<h3 id="-swift-container">&ndash;swift-container<a class="headerlink" href="#-swift-container" title="Permanent link">&para;</a></h3>
<p>Container to backup into (specific to Swift)</p>
<h3 id="-paralleln">&ndash;parallel=N<a class="headerlink" href="#-paralleln" title="Permanent link">&para;</a></h3>
<p>Maximum number of concurrent upload/download requests. Default is <code>1</code>.</p>
<h3 id="-cacert">&ndash;cacert<a class="headerlink" href="#-cacert" title="Permanent link">&para;</a></h3>
<p>Path to the file with CA certificates</p>
<h3 id="-insecure">&ndash;insecure<a class="headerlink" href="#-insecure" title="Permanent link">&para;</a></h3>
<p>Do not verify servers certificate</p>
<h3 id="swift-authentication-options">Swift authentication options<a class="headerlink" href="#swift-authentication-options" title="Permanent link">&para;</a></h3>
<p>Swift specification describe several <a href="http://docs.openstack.org/developer/swift/overview_auth.html">authentication options</a>. <em>xbcloud</em> can
authenticate against keystone with API version 2 and 3.</p>
<h3 id="-swift-auth-version">&ndash;swift-auth-version<a class="headerlink" href="#-swift-auth-version" title="Permanent link">&para;</a></h3>
<p>Specifies the swift authentication version. Possible values are: <code>1.0</code> -
TempAuth, <code>2.0</code> - Keystone v2.0, and <code>3</code> - Keystone v3. Default value is
<code>1.0</code>.</p>
<p><strong>For v2 additional options are:</strong></p>
<h3 id="-swift-tenant">&ndash;swift-tenant<a class="headerlink" href="#-swift-tenant" title="Permanent link">&para;</a></h3>
<p>Swift tenant name.</p>
<h3 id="-swift-tenant-id">&ndash;swift-tenant-id<a class="headerlink" href="#-swift-tenant-id" title="Permanent link">&para;</a></h3>
<p>Swift tenant ID.</p>
<h3 id="-swift-region">&ndash;swift-region<a class="headerlink" href="#-swift-region" title="Permanent link">&para;</a></h3>
<p>Swift endpoint region.</p>
<h3 id="-swift-password">&ndash;swift-password<a class="headerlink" href="#-swift-password" title="Permanent link">&para;</a></h3>
<p>Swift password for the user.</p>
<p><strong>For v3 additional options are:</strong></p>
<h3 id="-swift-user-id">&ndash;swift-user-id<a class="headerlink" href="#-swift-user-id" title="Permanent link">&para;</a></h3>
<p>Swift user ID.</p>
<h3 id="-swift-project">&ndash;swift-project<a class="headerlink" href="#-swift-project" title="Permanent link">&para;</a></h3>
<p>Swift project name.</p>
<h3 id="-swift-project-id">&ndash;swift-project-id<a class="headerlink" href="#-swift-project-id" title="Permanent link">&para;</a></h3>
<p>Swift project ID.</p>
<h3 id="-swift-domain">&ndash;swift-domain<a class="headerlink" href="#-swift-domain" title="Permanent link">&para;</a></h3>
<p>Swift domain name.</p>
<h3 id="-swift-domain-id">&ndash;swift-domain-id<a class="headerlink" href="#-swift-domain-id" title="Permanent link">&para;</a></h3>
<p>Swift domain ID.</p>

                
<div class="md-relbar2__inner md-grid">
<div class="md-content">
  <article class="md-content__inner md-typeset" role="main">    
    <h3>Contact us </h3>
       <p>For free technical help, visit the Percona <a class="reference external" href="https://forums.percona.com/c/mysql-mariadb/percona-xtrabackup/10?utm_campaign=Doc%20pages" target="_blank">Community Forum</a>.<br>
        <p>To report bugs or submit feature requests, open a <a class="reference external" href="https://jira.percona.com/projects/PXB/issues/" target="_blank">JIRA</a> ticket.<br>
         <p>For paid <a class="reference external" href="https://www.percona.com/services/support"> support </a> and <a class="reference external" href="https://www.percona.com/services/managed-services"> managed </a> or <a class="reference external" href="https://www.percona.com/services/consulting">consulting services </a>, contact <a class="reference external" href="https://www.percona.com/about-percona/contact" target="_blank">Percona Sales</a>.</p>
 </article>
</div>
</div>

                <!-- Last update of source file -->
                
                  
                    <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      2023-02-27
    
  </small>
</div>
                  
                
              
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Percona LLC, &#169; 2023
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            

  
    
  


  
    
  



  


<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="analytics" checked>
          <span class="task-list-indicator"></span>
          Google Analytics
        </label>
      </li>
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        </label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["search.highlight", "navigation.top", "content.tabs.link", "content.code.copy", "navigation.tracking", "content.action.edit", "content.action.view"], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
              
      <script src="../assets/javascripts/bundle.2a6f1dda.min.js"></script>
      
        <script src="../js/version-select.js"></script>
      
        <script src="../js/promptremover.js"></script>
      
    

              <img src="https://tracking.g2crowd.com/attribution_tracking/conversions/1007137.gif?e=" width="1" height="1" />

              <noscript>
                <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K48FGP2" height="0" width="0" style="display:none;visibility:hidden"></iframe>
              </noscript>
              
  </body>
</html>